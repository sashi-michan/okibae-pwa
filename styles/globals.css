@tailwind base;
@tailwind components;
@tailwind utilities;

/* カスタムCSS変数 */
:root { --bg: #fff; }

/* 基本スタイル */
html, body, #__next { height: 100%; }
body { 
  @apply bg-gradient-to-br from-pink-50 via-cream to-orange-50 text-gray-700 font-cute; 
  font-feature-settings: "palt" 1;
  background-attachment: fixed;
}

/* タイポグラフィ - 可愛いフォント設定 */
.typography-main-title { @apply text-xl md:text-2xl font-bold tracking-wide font-cute; color: #666666; }
.typography-subtitle { @apply text-sm md:text-base font-medium font-cute text-gray-500; }
.typography-step-title { @apply text-lg font-semibold font-cute; color: #666666; }
.typography-body { @apply text-sm text-gray-500 font-cute; }
.typography-label { @apply text-lg font-medium font-cute; color: #666666; }
.typography-button { @apply font-cute text-gray-600; }
.typography-nav-logo { @apply font-bold font-cute text-gray-800; }
.typography-nav-menu { @apply text-sm font-cute text-gray-600; }

/* コンポーネント */
.btn { @apply inline-flex items-center justify-center rounded-2xl px-4 py-2 font-medium shadow-soft transition-all duration-300 typography-button hover:shadow-lg; }
.btn-primary { 
  background: #C792A3;
  color: white;
  box-shadow: 0 4px 14px 0 rgba(199, 146, 163, 0.25);
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

.btn-primary:hover {
  background: #B8899A;
}

.btn-primary::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transform: rotate(45deg);
  transition: all 0.6s;
  opacity: 0;
}

.btn-primary:hover::before {
  opacity: 1;
  transform: rotate(45deg) translate(50%, 50%);
}
.btn-ghost { @apply bg-gradient-to-b from-white to-gray-50 hover:from-gray-50 hover:to-gray-100 border border-gray-200 hover:border-gray-300; }
.card { 
  @apply bg-gradient-to-br from-white/90 via-pink-50/40 to-orange-50/30 rounded-3xl shadow-premium border border-gray-100/60 p-6 md:p-8 backdrop-blur-md;
  position: relative;
  overflow: visible;
}

.badge { @apply inline-flex items-center gap-1 rounded-full bg-pink-50 text-pink-700 px-3 py-1 text-xs; }

/* 共通UIパターン */
.icon-badge { @apply inline-flex items-center justify-center text-white font-cute transition-all duration-300 transform hover:scale-110 shadow-sm; }
.icon-badge-sm { @apply h-6 w-6 rounded-full text-xs font-medium; }
.icon-badge-md { @apply h-8 w-8 rounded-xl; }
.stepper-badge { 
  @apply flex h-8 w-8 items-center justify-center rounded-full text-sm font-medium font-cute text-white shadow-sm transition-all duration-300;
  background: linear-gradient(135deg, #ec4899, #f97316);
  position: relative;
  overflow: hidden;
}

.stepper-badge::after {
  content: '';
  position: absolute;
  top: 10%;
  left: 10%;
  width: 80%;
  height: 80%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 60%);
  border-radius: 50%;
}
.placeholder-area { @apply aspect-square w-full border-2 border-dashed border-gray-200/60 rounded-2xl grid place-content-center transition-all duration-300 hover:border-brand-200/60 hover:bg-brand-50/20 hover:shadow-md; }
.loading-spinner { @apply w-8 h-8 border-2 border-brand-500 border-t-transparent rounded-full animate-spin drop-shadow-sm; }
.status-success { @apply text-emerald-500 font-medium; }
.status-loading { @apply text-gray-400; }

/* アニメーション強化 */
.animate-gentle-bounce { animation: gentleBounce 0.6s ease-out; }
.animate-fade-in { animation: fadeIn 0.5s ease-out; }
.animate-slide-up { animation: slideUp 0.4s ease-out; }
.animate-slide-in-right { animation: slideInRight 0.35s cubic-bezier(0.25, 0.46, 0.25, 1); }
.animate-slide-in-left { animation: slideInLeft 0.35s cubic-bezier(0.25, 0.46, 0.25, 1); }
.animate-float { animation: float 6s ease-in-out infinite; }
.animate-sparkle { animation: sparkle 2s ease-in-out infinite; }
.animate-pulse-soft { animation: pulseSoft 4s ease-in-out infinite; }

@keyframes gentleBounce {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInRight {
  from { transform: translateX(calc(100% + 48px)); }
  to { transform: translateX(0); }
}

@keyframes slideInLeft {
  from { transform: translateX(calc(-100% - 48px)); }
  to { transform: translateX(0); }
}

@keyframes slideOutLeft {
  from { transform: translateX(0); }
  to { transform: translateX(calc(-100% - 48px)); }
}

@keyframes slideOutRight {
  from { transform: translateX(0); }
  to { transform: translateX(calc(100% + 48px)); }
}

.animate-slide-out-left { animation: slideOutLeft 0.35s cubic-bezier(0.55, 0.06, 0.68, 0.19) forwards; }
.animate-slide-out-right { animation: slideOutRight 0.35s cubic-bezier(0.55, 0.06, 0.68, 0.19) forwards; }

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

@keyframes sparkle {
  0%, 100% { 
    opacity: 1; 
    transform: scale(1); 
  }
  50% { 
    opacity: 0.5; 
    transform: scale(1.1); 
  }
}

@keyframes pulseSoft {
  0%, 100% { 
    opacity: 0.8; 
    transform: scale(1); 
  }
  50% { 
    opacity: 1; 
    transform: scale(1.02); 
  }
}

/* 高級感のある影 */
.shadow-premium { box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08), 0 4px 16px rgba(0, 0, 0, 0.04); }
.shadow-premium-hover { box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12), 0 6px 20px rgba(0, 0, 0, 0.06); }

/* 可愛い装飾要素 */
.cute-decoration {
  position: relative;
}

.cute-decoration::before {
  content: '✨';
  position: absolute;
  top: -10px;
  right: -10px;
  font-size: 16px;
  animation: sparkle 2s ease-in-out infinite;
  z-index: 1;
}

.main-container {
  position: relative;
  overflow: hidden;
}



/* インタラクティブ要素 */
.interactive-card { 
  @apply transition-all duration-300 hover:-translate-y-1; 
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.interactive-card:hover {
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12), 0 6px 20px rgba(0, 0, 0, 0.06);
}
.glass-effect { @apply backdrop-blur-md bg-white/80 border border-white/20; }

/* カルーセル実装（参考サイトベース） */
.slick-container {
  @apply relative w-full max-w-2xl mx-auto py-8;
}

.slick-carousel {
  @apply relative w-full overflow-hidden;
  height: 320px; /* 1:1 + パディング用に少し余裕 */
}

.slick-track {
  @apply flex transition-transform duration-500 ease-out items-center;
  height: 100%;
}

.slick-slide {
  @apply flex-shrink-0 flex items-center justify-center;
  width: 33.333%; /* 3つ表示用 */
  padding: 0 12px;
  cursor: pointer;
}

.slick-slide-content {
  @apply relative aspect-square w-full max-w-xs; /* 1:1比率を強制 */
}

.slick-slide-image {
  @apply w-full h-full object-cover rounded-xl;
  opacity: 0.4;
  transition: opacity 0.5s ease, transform 0.3s ease;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.slick-slide:hover .slick-slide-image {
  opacity: 0.7;
  transform: scale(1.02);
}

/* 中央のアクティブスライド */
.slick-center .slick-slide-image {
  opacity: 1;
  transform: scale(1.05);
}

/* ナビゲーション矢印 - ミニマルデザイン */
.slick-container .slick-arrow {
  position: absolute !important;
  z-index: 20 !important;
  padding: 0.5rem !important;
  background: none !important;
  border: none !important;
  top: 42% !important;
  transform: translateY(-50%) !important;
  color: rgb(156 163 175) !important;
  transition: all 0.2s !important;
}

.slick-container .slick-arrow:hover {
  color: rgb(75 85 99) !important;
  transform: translateY(-50%) scale(1.1) !important;
  top: 42% !important;
}

.slick-container .slick-prev {
  left: -1.5rem !important;
  top: 42% !important;
}

.slick-container .slick-next {
  right: -1.5rem !important;
  top: 42% !important;
}

/* ドットインジケーター */
.slick-dots {
  @apply flex justify-center gap-2 mt-6;
}

.slick-dot {
  @apply w-3 h-3 rounded-full bg-gray-300 transition-all duration-200 hover:bg-gray-400;
}

.slick-dot.slick-active {
  @apply bg-brand-500 w-8;
}

/* ラベル表示 */
.slick-label {
  @apply mt-4 text-center;
}

/* レスポンシブ対応 */
@media screen and (max-width: 640px) {
  .slick-container {
    @apply max-w-sm;
  }
  
  .slick-arrow {
    @apply p-1;
  }
  
  .slick-prev {
    @apply -left-4;
  }
  
  .slick-next {
    @apply -right-4;
  }
}
